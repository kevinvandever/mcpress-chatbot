@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body {
  height: 100%;
}

/* Enhanced scrollbar styling */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #cbd5e1 #f1f5f9;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }
}

/* Custom focus styles for accessibility */
@layer utilities {
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
  }
  
  .focus-ring-inset {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset;
  }
}

/* Animation keyframes */
@keyframes pulse-dot {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

@keyframes chat-appear {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes message-glow {
  0%, 100% {
    box-shadow: 0 0 10px rgba(79, 70, 229, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(79, 70, 229, 0.5);
  }
}

@keyframes float-subtle {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-2px);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

@keyframes fade-in-out {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  10% {
    opacity: 1;
    transform: scale(1);
  }
  90% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(0.9);
  }
}

@keyframes bounce-subtle {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-5px);
  }
  60% {
    transform: translateY(-3px);
  }
}

@keyframes scale-in {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slide-in-up {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@layer utilities {
  .animate-pulse-dot {
    animation: pulse-dot 1.4s infinite ease-in-out;
  }
  
  .animate-pulse-dot-delay-1 {
    animation: pulse-dot 1.4s infinite ease-in-out 0.16s;
  }
  
  .animate-pulse-dot-delay-2 {
    animation: pulse-dot 1.4s infinite ease-in-out 0.32s;
  }
  
  .animate-chat-appear {
    animation: chat-appear 0.4s ease-out;
  }
  
  .animate-message-glow {
    animation: message-glow 2s infinite;
  }
  
  .animate-float-subtle {
    animation: float-subtle 3s infinite ease-in-out;
  }
  
  .animate-shimmer {
    animation: shimmer 2s infinite linear;
  }
  
  .animate-fade-in-out {
    animation: fade-in-out 3s ease-in-out;
  }
  
  .animate-bounce-subtle {
    animation: bounce-subtle 2s ease-in-out;
  }
  
  .animate-scale-in {
    animation: scale-in 0.3s ease-out;
  }
  
  .animate-slide-in-up {
    animation: slide-in-up 0.4s ease-out;
  }
  
  .shimmer-bg {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.2) 20%,
      rgba(255, 255, 255, 0.5) 60%,
      rgba(255, 255, 255, 0)
    );
    background-size: 200px 100%;
  }
}

/* Code syntax highlighting improvements */
.prose pre {
  @apply bg-gray-900 text-gray-100 rounded-lg p-4 overflow-x-auto;
}

.prose code {
  @apply bg-gray-800 text-gray-100 px-3 py-1 rounded-md text-sm font-mono border border-gray-700;
}

.prose pre code {
  @apply bg-transparent px-0 py-0 border-0;
}

/* Enhanced code block styling */
.code-block-wrapper {
  @apply bg-gray-900 rounded-xl overflow-hidden shadow-lg border border-gray-700;
}

.code-block-header {
  @apply bg-gray-800 text-gray-300 px-4 py-3 text-sm font-medium border-b border-gray-700 flex items-center justify-between;
}

.inline-code {
  @apply bg-gray-800 text-gray-100 px-2 py-1 rounded-md text-sm font-mono;
}

/* Custom content type indicators */
.content-type-text {
  @apply text-blue-600 bg-blue-50 border-blue-200;
}

.content-type-image {
  @apply text-green-600 bg-green-50 border-green-200;
}

.content-type-code {
  @apply text-purple-600 bg-purple-50 border-purple-200;
}

/* Smooth transitions for interactive elements */
@layer utilities {
  .transition-all-fast {
    transition: all 0.15s ease-in-out;
  }
  
  .transition-all-smooth {
    transition: all 0.3s ease-in-out;
  }
}

/* MC Press brand colors */
@layer utilities {
  .mc-primary {
    @apply bg-indigo-700 text-white;
  }
  
  .mc-primary-hover {
    @apply hover:bg-indigo-800;
  }
  
  .mc-secondary {
    @apply bg-slate-700 text-white;
  }
  
  .mc-accent {
    @apply bg-orange-600 text-white;
  }
  
  .mc-gradient {
    background: linear-gradient(135deg, #374151 0%, #4f46e5 100%);
  }
}

/* Custom button variants */
@layer components {
  .btn-primary {
    @apply bg-indigo-700 hover:bg-indigo-800 text-white font-medium py-2 px-4 rounded-lg transition-colors focus-ring disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-secondary {
    @apply bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-lg transition-colors focus-ring disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-outline {
    @apply border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors focus-ring disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .sidebar-tab {
    @apply relative px-4 py-3 text-sm font-medium transition-all duration-200 rounded-t-lg;
  }
  
  .sidebar-tab-active {
    @apply bg-white text-indigo-700 shadow-sm border-b-2 border-indigo-700;
  }
  
  .sidebar-tab-inactive {
    @apply text-gray-300 hover:text-white hover:bg-gray-600/50;
  }
}

/* Card styles */
@layer components {
  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-4;
  }
  
  .card-hover {
    @apply hover:shadow-md transition-shadow;
  }
}

/* Mobile-specific styles */
@media (max-width: 640px) {
  .mobile-padding {
    padding: 1rem;
  }
  
  .mobile-text-sm {
    font-size: 0.875rem;
  }
}

/* Screen reader only styles */
@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  
  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* Enhanced focus styles for better keyboard navigation */
@layer utilities {
  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2;
  }
  
  .focus-within-ring {
    @apply focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2;
  }
  
  .hover-lift {
    @apply transition-all duration-200 ease-in-out transform hover:-translate-y-1 hover:shadow-lg;
  }
  
  .hover-scale {
    @apply transition-transform duration-150 ease-in-out hover:scale-105;
  }
  
  .hover-glow {
    @apply transition-shadow duration-300 hover:shadow-lg hover:shadow-indigo-500/25;
  }
  
  .interactive-card {
    @apply bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-lg hover:border-indigo-300 transition-all duration-300 cursor-pointer transform hover:-translate-y-1;
  }
  
  .glassmorphism {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.18);
  }
}

/* Enhanced modal content formatting */
.prose {
  @apply text-gray-800;
}

.prose p {
  @apply mb-4 leading-relaxed;
}

.prose pre {
  @apply mb-4;
}

/* Image container styling */
.image-container {
  @apply bg-gray-100 p-4 rounded-lg flex items-center justify-center;
}

/* Code block improvements */
pre code {
  @apply block;
  white-space: pre;
  word-wrap: normal;
  overflow-x: auto;
}

/* Better text readability in modals */
.modal-content {
  @apply leading-relaxed;
  line-height: 1.75;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .card {
    @apply border-2 border-gray-900;
  }
  
  .btn-primary {
    @apply border-2 border-blue-900;
  }
  
  .content-type-text {
    @apply border-2 border-blue-900;
  }
  
  .content-type-image {
    @apply border-2 border-green-900;
  }
  
  .content-type-code {
    @apply border-2 border-purple-900;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .transition-all-fast,
  .transition-all-smooth {
    transition: none;
  }
  
  .animate-spin,
  .animate-pulse-dot,
  .animate-pulse-dot-delay-1,
  .animate-pulse-dot-delay-2 {
    animation: none;
  }
}